# 開発者メモ

## ローカルで実行する方法
`make html` 
を実行してからbrowserで`cvlab_toolbox/docs/_build/html/index.html`を開けば良いはず．

もしくは`build sphinx`?? で`cvlab_toolbox/docs/_build/index.html`??
違いがよくわからん，

もっと良い方法があれば教えてほしい．
（`make html`しなくても保存する度に自動で更新される開発者モード的な）

それなら
1. ``cd docs/_build/html``
2. ``python -m SimpleHTTPServer 8080``
3. Browse to http://localhost:8080/
がいいかもね

## 基本的なこと

- [Sphinx](https://docs.readthedocs.io/en/stable/index.html)フレームワークを使用．
- ファイルは[.rst](http://openalea.gforge.inria.fr/doc/openalea/doc/_build/html/source/sphinx/rest_syntax.html)もしくは[.md](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet). .rst(Restructured text)の方が表現力豊かなので好ましい．
- .ipynbはnbconvertで.rst or .mdに変換してから，変換後のファイルと画像ファイルを正しいフォルダに入れる．ただ面倒なので，そのうち[nbsphinx](https://nbsphinx.readthedocs.io/en/0.5.0/)を使って自動化させる予定．
- 画像ファイルなどの静的なものは_staticに入れる
- [Read the docs](https://readthedocs.org/)でホスティング．

- 新たにPyPiパッケージなどを追加する際(=import xxx)するときはrequirements.txtを更新すること

## Notebook を使うときの諸注意
Using Notebooks with Git

Git is extremely useful for managing source code and it can and should also be used for managing Jupyter notebooks. There is one caveat, however: Notebooks can contain output cells with rich media like images, plots, sounds, HTML, JavaScript and many other types of bulky machine-created content. This can make it hard to work with Git efficiently, because changes in those bulky contents can completely obscure the more interesting human-made changes in text and source code. Working with multiple collaborators on a notebook can become very tedious because of this.

It is therefore highly recommended that you remove all outputs from your notebooks before committing changes to a Git repository (except for the reasons mentioned in Pre-Executing Notebooks).

If there are no output cells in a notebook, nbsphinx will by default execute the notebook, and the pages generated by Sphinx will therefore contain all the output cells. See Controlling Notebook Execution for how this behavior can be customized.

In the Jupyter Notebook application, you can manually clear all outputs by selecting “Cell” →
“All Output” → “Clear” from the menu. In JupyterLab, the menu items are “Edit” → “Clear All Outputs”.

## 謎
- ローカルの_buildの中身とread the docsの中身が完全一致するわけではなさそう？？
- 参考文献の使い方が全般的に謎い

**他に質問があればgithubやslack経由で連絡ください**